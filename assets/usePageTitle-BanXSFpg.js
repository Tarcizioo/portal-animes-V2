import{c as m,r as l,N as P,j as e,X as w,O as T,u as k,T as R,e as S,d as _,o as I,K as H,H as z,L as M,P as N}from"./index-DVHdDxV9.js";import{H as q}from"./house-Di8DGWf1.js";const O=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],V=m("chevron-left",O);const U=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],F=m("chevron-right",U);const B=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q=m("compass",B);const X=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],G=m("log-in",X);const K=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Z=m("log-out",K);const J=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],W=m("menu",J);const Y=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ee=m("monitor",Y);const te=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],se=m("moon",te);const re=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],j=m("palette",re);const ae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$=m("search",ae);const oe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ne=m("settings",oe);const le=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],E=m("sun",le);const ie=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ce=m("trash-2",ie);const de=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],me=m("users",de);function L(s){var r,t,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(r=0;r<c;r++)s[r]&&(t=L(s[r]))&&(a&&(a+=" "),a+=t)}else for(t in s)s[t]&&(a&&(a+=" "),a+=t);return a}function v(){for(var s,r,t=0,a="",c=arguments.length;t<c;t++)(s=arguments[t])&&(r=L(s))&&(a&&(a+=" "),a+=r);return a}function xe({isOpen:s,onClose:r,title:t,children:a}){return l.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),s?P.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:r}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-background-dark rounded-xl shadow-2xl transform transition-all animate-in fade-in zoom-in-95 duration-200 border border-gray-200 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-white/10",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t}),e.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-white/10",children:e.jsx(w,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:a})]})]}),document.body):null}const he=[{id:"light",name:"Claro",icon:E,color:"bg-gray-100"},{id:"sunshine",name:"Sunshine",icon:E,color:"bg-yellow-100"},{id:"matcha",name:"Matcha",icon:j,color:"bg-green-100"},{id:"rose",name:"Rose",icon:j,color:"bg-rose-100"},{id:"dark",name:"Escuro",icon:se,color:"bg-gray-800"},{id:"majorelle",name:"Blue",icon:j,color:"bg-indigo-900"},{id:"blood",name:"Blood",icon:j,color:"bg-red-900"},{id:"dracula",name:"Dracula",icon:j,color:"bg-purple-900"}];function ue({isOpen:s,onClose:r}){const{theme:t,setTheme:a}=T(),{deleteAccount:c,user:i}=k(),[o,x]=l.useState(!1),[n,g]=l.useState(""),[u,d]=l.useState(!1),y=async()=>{if(n==="DELETAR"){x(!0);try{await c(),r()}catch(h){alert("Erro ao deletar conta. Talvez seja necessÃ¡rio fazer login novamente por seguranÃ§a."),console.error(h)}finally{x(!1)}}};return e.jsx(xe,{isOpen:s,onClose:r,title:"ConfiguraÃ§Ãµes",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"})," AparÃªncia"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:he.map(h=>{const b=h.icon,f=t===h.id;return e.jsxs("button",{onClick:()=>a(h.id),className:`
                    flex flex-col items-center justify-center p-3 rounded-xl border transition-all duration-200
                    ${f?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-white/10 hover:border-primary/50 hover:bg-gray-50 dark:hover:bg-white/5"}
`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full mb-2 flex items-center justify-center ${f?"bg-primary text-white":"bg-gray-100 dark:bg-white/10 text-gray-500 dark:text-gray-400"}`,children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-sm font-medium ${f?"text-primary":"text-gray-700 dark:text-gray-300"}`,children:h.name})]},h.id)})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Outros"}),i?e.jsx("div",{className:"rounded-xl border border-red-500/20 bg-red-500/5 overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-red-500 font-bold mb-2",children:[e.jsx(R,{className:"w-5 h-5"})," Zona de Perigo"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"A exclusÃ£o da conta Ã© permanente e nÃ£o pode ser desfeita. Todos os seus dados serÃ£o apagados."}),u?e.jsxs("div",{className:"space-y-3 animate-fade-in bg-black/20 p-4 rounded-lg",children:[e.jsxs("label",{className:"text-sm text-gray-300 block",children:["Digite ",e.jsx("span",{className:"font-bold text-white",children:"DELETAR"})," para confirmar:"]}),e.jsx("input",{type:"text",value:n,onChange:h=>g(h.target.value),className:"w-full bg-black/40 border border-red-500/30 rounded-lg px-3 py-2 text-white focus:border-red-500 focus:outline-none text-sm",placeholder:"DELETAR"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:y,disabled:n!=="DELETAR"||o,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-bold transition-colors",children:o?"Apagando...":"Confirmar ExclusÃ£o"}),e.jsx("button",{onClick:()=>{d(!1),g("")},className:"px-4 py-2 bg-transparent text-gray-400 hover:text-white text-sm font-medium",children:"Cancelar"})]})]}):e.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-lg transition-colors text-sm font-medium flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"})," Excluir minha conta"]})]})}):e.jsx("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"FaÃ§a login para ver as opÃ§Ãµes da conta."})})]})]})})}function D(){const{user:s}=k(),[r,t]=l.useState(null),[a,c]=l.useState(!0);return l.useEffect(()=>{if(!s){t(null),c(!1);return}const o=S(_,"users",s.uid),x=I(o,n=>{n.exists()?t(n.data()):t(null),c(!1)},n=>{console.error("Erro ao buscar perfil:",n),c(!1)});return()=>x()},[s]),{profile:r,loading:a,updateProfileData:async o=>{if(!s)return;const x=S(_,"users",s.uid);try{await H(x,o,{merge:!0})}catch(n){throw console.error("Erro ao atualizar perfil:",n),n}}}}const pe="/portal-animes-V2/assets/logo-BXHHSxrP.png";function be(){const[s,r]=l.useState(!1),[t,a]=l.useState(()=>localStorage.getItem("sidebar_collapsed")==="true"),[c,i]=l.useState(!1),{user:o,signOut:x}=k(),{profile:n}=D(),g=z();l.useEffect(()=>{localStorage.setItem("sidebar_collapsed",t)},[t]);const u=()=>r(!s),d=async p=>{p.preventDefault(),p.stopPropagation();try{await x(),g("/")}catch(A){console.error("Erro ao sair:",A)}},y=`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ease-in-out font-medium w-full whitespace-nowrap overflow-hidden ${t?"justify-center px-2":"text-left"}`,h="bg-button-accent text-text-on-primary shadow-lg shadow-button-accent/25",b="text-text-secondary hover:bg-bg-tertiary hover:text-primary transition-colors",f=n?.displayName||o?.displayName||"Visitante",C=n?.photoURL||o?.photoURL;return e.jsxs(e.Fragment,{children:[e.jsx(ue,{isOpen:c,onClose:()=>i(!1)}),e.jsx("button",{onClick:u,className:"md:hidden fixed top-4 left-4 z-50 p-2.5 bg-bg-secondary rounded-lg shadow-lg border border-border-color text-text-primary active:scale-95 transition-transform",children:s?e.jsx(w,{className:"w-6 h-6"}):e.jsx(W,{className:"w-6 h-6"})}),s&&e.jsx("div",{onClick:()=>r(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden"}),e.jsxs("aside",{className:v("fixed md:static inset-y-0 left-0 z-50 bg-bg-secondary border-r border-border-color flex flex-col transition-all duration-300 ease-in-out will-change-[width]",s?"translate-x-0":"-translate-x-full md:translate-x-0",t?"w-20":"w-72"),children:[e.jsx("div",{className:`p-4 flex items-center ${t?"justify-center":"justify-between"} transition-all duration-300`,children:e.jsxs(M,{to:"/",className:`flex items-center gap-2 text-2xl font-black text-primary tracking-tighter group transition-all duration-300 ${t?"justify-center w-full":""}`,children:[e.jsx("div",{className:"w-10 h-10 bg-transparent transition-colors rounded-full flex items-center justify-center shrink-0 overflow-hidden",children:e.jsx("img",{src:pe,alt:"Logo",className:"w-full h-full object-cover"})}),!t&&e.jsxs("span",{className:"text-text-primary group-hover:text-primary transition-colors whitespace-nowrap",children:["Portal",e.jsx("span",{className:"text-primary",children:"Animes"})]})]})}),e.jsx("button",{onClick:()=>a(!t),className:"hidden md:flex absolute -right-3 top-9 bg-bg-secondary border border-border-color rounded-full p-1 text-text-secondary hover:text-primary transition-colors shadow-sm z-50",children:t?e.jsx(F,{className:"w-4 h-4"}):e.jsx(V,{className:"w-4 h-4"})}),e.jsxs("nav",{className:"flex-1 px-3 space-y-2 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-surface-dark/20 hover:scrollbar-thumb-surface-dark/40",children:[!t&&e.jsx("div",{className:"text-xs font-bold text-text-secondary/60 uppercase px-4 mb-2 tracking-wider",children:"Menu"}),e.jsxs(N,{to:"/",onClick:()=>r(!1),className:({isActive:p})=>v(y,p?h:b),title:t?"InÃ­cio":"",children:[e.jsx(q,{className:"w-5 h-5 shrink-0"})," ",!t&&"InÃ­cio"]}),e.jsxs(N,{to:"/catalog",onClick:()=>r(!1),className:({isActive:p})=>v(y,p?h:b),title:t?"CatÃ¡logo":"",children:[e.jsx(Q,{className:"w-5 h-5 shrink-0"})," ",!t&&"CatÃ¡logo"]}),e.jsxs(N,{to:"/characters",onClick:()=>r(!1),className:({isActive:p})=>v(y,p?h:b),title:t?"Personagens":"",children:[e.jsx(me,{className:"w-5 h-5 shrink-0"})," ",!t&&"Personagens"]}),e.jsx("div",{className:"pt-4 pb-2",children:e.jsx("div",{className:"h-px bg-border-color mx-4"})}),!t&&e.jsx("div",{className:"text-xs font-bold text-text-secondary/60 uppercase px-4 mb-2 tracking-wider",children:"Geral"}),e.jsxs("button",{onClick:()=>{r(!1),i(!0)},title:t?"ConfiguraÃ§Ãµes":"",className:v(y,b),children:[e.jsx(ne,{className:"w-5 h-5 shrink-0"})," ",!t&&"ConfiguraÃ§Ãµes"]})]}),e.jsx("div",{className:"p-4 border-t border-border-color bg-bg-tertiary",children:e.jsxs(M,{to:"/profile",onClick:()=>r(!1),className:`flex items-center gap-3 p-3 rounded-xl bg-bg-secondary border border-border-color shadow-sm hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group relative overflow-hidden ${t?"justify-center w-12 h-12 p-0":""}`,title:t?f:"Ver Perfil",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/0 group-hover:bg-primary/5 transition-colors"}),e.jsxs("div",{className:"relative z-10 shrink-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-primary to-button-accent flex items-center justify-center text-white font-bold text-sm overflow-hidden ring-2 ring-transparent group-hover:ring-primary/20 transition-all",children:C?e.jsx("img",{src:C,alt:f,className:"w-full h-full object-cover"}):e.jsx("span",{className:"uppercase",children:f.slice(0,2)})}),e.jsx("span",{className:`absolute bottom-0 right-0 w-3 h-3 border-2 border-bg-secondary rounded-full ${o?"bg-green-500":"bg-gray-500"}`})]}),!t&&e.jsxs("div",{className:"flex-1 min-w-0 z-10 ml-1",children:[e.jsx("h4",{className:"text-sm font-bold text-text-primary truncate group-hover:text-primary transition-colors",children:f}),e.jsx("p",{className:"text-xs text-text-secondary truncate",children:o?"Visualizar perfil":"Fazer Login"})]}),!t&&e.jsx("div",{className:"z-10 p-1.5 text-text-secondary group-hover:text-primary transition-colors",onClick:o?d:void 0,title:o?"Sair":"Entrar",children:o?e.jsx(Z,{className:"w-4 h-4"}):e.jsx(G,{className:"w-4 h-4"})})]})})]})]})}function ge(){const[s,r]=l.useState(""),[t,a]=l.useState([]),[c,i]=l.useState(!1);return l.useEffect(()=>{if(s.length<3){a([]);return}const o=setTimeout(async()=>{i(!0);try{const g=((await(await fetch(`https://api.jikan.moe/v4/anime?q=${s}&limit=5`)).json()).data||[]).map(u=>({id:u.mal_id,title:u.title_english||u.title,image:u.images?.jpg?.image_url,score:u.score,year:u.year||"N/A"}));a(g)}catch(x){console.error("Erro na busca:",x)}finally{i(!1)}},500);return()=>clearTimeout(o)},[s]),{query:s,setQuery:r,results:t,isSearching:c,setResults:a}}function je(){const{query:s,setQuery:r,results:t,setResults:a}=ge(),c=z(),[i,o]=l.useState(!1),{user:x}=k(),{profile:n}=D(),g=n?.displayName||x?.displayName||"Visitante",u=d=>{c(`/anime/${d}`),r(""),a([]),o(!1)};return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"sticky top-0 z-40 bg-bg-primary/80 backdrop-blur-md px-4 md:px-8 py-4 flex items-center justify-between border-b border-border-color transition-colors duration-300",children:[e.jsx("div",{className:"flex items-center gap-4 pl-12 md:pl-0",children:e.jsxs("div",{className:`${i?"hidden md:block":"block"}`,children:[e.jsxs("h1",{className:"text-xl font-bold text-text-primary",children:["OlÃ¡, ",g,"!! ðŸ‘‹"]}),e.jsx("p",{className:"text-sm text-text-secondary hidden sm:block",children:"Descubra novos animes."})]})}),!i&&e.jsx("div",{className:"flex items-center gap-2 md:hidden ml-auto",children:e.jsx("button",{onClick:()=>o(!0),className:"p-2 text-text-secondary hover:text-primary",children:e.jsx($,{className:"w-6 h-6"})})}),e.jsx("div",{className:`relative group w-full max-w-md ml-auto transition-all duration-300 ${i?"block":"hidden md:flex items-center gap-4"}`,children:e.jsx("div",{className:`${i?"fixed inset-0 z-50 bg-bg-primary px-4 flex items-center":"relative w-full"}`,children:e.jsxs("div",{className:`relative w-full ${i?"max-w-full":"max-w-md"}`,children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx($,{className:"w-5 h-5 text-text-secondary"})}),e.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),placeholder:"Pesquisar...",autoFocus:i,className:"block w-full pl-10 pr-10 py-2.5 border-none rounded-xl bg-bg-tertiary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary placeholder-text-secondary/50"}),i&&e.jsx("button",{onClick:()=>o(!1),className:"absolute inset-y-0 right-2 flex items-center p-2 text-text-secondary hover:text-primary",children:e.jsx(w,{className:"w-5 h-5"})}),t.length>0&&e.jsx("div",{className:"absolute top-full mt-2 left-0 w-full bg-bg-secondary rounded-xl shadow-2xl z-50 max-h-[60vh] overflow-y-auto border border-border-color",children:t.map(d=>e.jsxs("div",{onClick:()=>u(d.id),className:"flex gap-3 p-3 hover:bg-primary/10 cursor-pointer border-b border-border-color last:border-0",children:[e.jsx("img",{src:d.image,className:"w-8 h-12 object-cover rounded",alt:d.title}),e.jsx("div",{className:"text-sm text-text-primary",children:d.title})]},d.id))})]})})})]})})}function ve(s){l.useEffect(()=>{document.title=`Portal Animes | ${s}`},[s])}export{V as C,je as H,G as L,ee as M,be as S,ce as T,me as U,F as a,$ as b,v as c,D as d,pe as l,ve as u};
