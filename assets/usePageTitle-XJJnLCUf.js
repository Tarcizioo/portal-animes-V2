import{j as e,v as J,u as S,d as w,m as L}from"./index-CPSkf6_A.js";import{r as l,e as K,L as j,h as U,N as Q}from"./vendor-CzuZ2vSz.js";import{X as z,r as X,ah as T,ai as k,aj as Y,T as Z,k as W,s as D,L as ee,e as re,a1 as P,m as E,a0 as se,$ as te,a4 as ae,a9 as oe,a5 as ne,U as le,J as ie,a7 as ce,a8 as de,_ as xe,Q as me,ak as R,I as ue,M as he,H as M,al as pe,am as fe}from"./ui-DGQG60Ii.js";import{v as _,w as F,x as $,D as q,A as be,l as C,y as B,q as ge,E as ye,H as je,B as ve}from"./firebase-sbJdvLJZ.js";function H({isOpen:s,onClose:i,title:r,children:u}){return l.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),s?K.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:i}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-background-dark rounded-xl shadow-2xl transform transition-all animate-in fade-in zoom-in-95 duration-200 border border-gray-200 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-white/10",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r}),e.jsx("button",{onClick:i,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-white/10",children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:u})]})]}),document.body):null}const Ne=[{id:"light",name:"Claro",icon:T,color:"bg-gray-100"},{id:"sunshine",name:"Sunshine",icon:T,color:"bg-yellow-100"},{id:"matcha",name:"Matcha",icon:k,color:"bg-green-100"},{id:"rose",name:"Rose",icon:k,color:"bg-rose-100"},{id:"dark",name:"Escuro",icon:Y,color:"bg-gray-800"},{id:"majorelle",name:"Blue",icon:k,color:"bg-indigo-900"},{id:"blood",name:"Blood",icon:k,color:"bg-red-900"},{id:"dracula",name:"Dracula",icon:k,color:"bg-purple-900"}];function we({isOpen:s,onClose:i}){const{theme:r,setTheme:u}=J(),{deleteAccount:h,user:d}=S(),[x,c]=l.useState(!1),[o,a]=l.useState(""),[t,p]=l.useState(!1),b=async()=>{if(o==="DELETAR"){c(!0);try{await h(),i()}catch(f){alert("Erro ao deletar conta. Talvez seja necessÃ¡rio fazer login novamente por seguranÃ§a."),console.error(f)}finally{c(!1)}}};return e.jsx(H,{isOpen:s,onClose:i,title:"ConfiguraÃ§Ãµes",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"})," AparÃªncia"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Ne.map(f=>{const g=f.icon,m=r===f.id;return e.jsxs("button",{onClick:()=>u(f.id),className:`
                    flex flex-col items-center justify-center p-3 rounded-xl border transition-all duration-200
                    ${m?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-white/10 hover:border-primary/50 hover:bg-gray-50 dark:hover:bg-white/5"}
`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full mb-2 flex items-center justify-center ${m?"bg-primary text-white":"bg-gray-100 dark:bg-white/10 text-gray-500 dark:text-gray-400"}`,children:e.jsx(g,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-sm font-medium ${m?"text-primary":"text-gray-700 dark:text-gray-300"}`,children:f.name})]},f.id)})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Outros"}),d?e.jsx("div",{className:"rounded-xl border border-red-500/20 bg-red-500/5 overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-red-500 font-bold mb-2",children:[e.jsx(Z,{className:"w-5 h-5"})," Zona de Perigo"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"A exclusÃ£o da conta Ã© permanente e nÃ£o pode ser desfeita. Todos os seus dados serÃ£o apagados."}),t?e.jsxs("div",{className:"space-y-3 animate-fade-in bg-black/20 p-4 rounded-lg",children:[e.jsxs("label",{className:"text-sm text-gray-300 block",children:["Digite ",e.jsx("span",{className:"font-bold text-white",children:"DELETAR"})," para confirmar:"]}),e.jsx("input",{type:"text",value:o,onChange:f=>a(f.target.value),className:"w-full bg-black/40 border border-red-500/30 rounded-lg px-3 py-2 text-white focus:border-red-500 focus:outline-none text-sm",placeholder:"DELETAR"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:b,disabled:o!=="DELETAR"||x,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-bold transition-colors",children:x?"Apagando...":"Confirmar ExclusÃ£o"}),e.jsx("button",{onClick:()=>{p(!1),a("")},className:"px-4 py-2 bg-transparent text-gray-400 hover:text-white text-sm font-medium",children:"Cancelar"})]})]}):e.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-lg transition-colors text-sm font-medium flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"})," Excluir minha conta"]})]})}):e.jsx("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"FaÃ§a login para ver as opÃ§Ãµes da conta."})})]})]})})}function ke({isOpen:s,onClose:i}){const[r,u]=l.useState(""),[h,d]=l.useState([]),[x,c]=l.useState(!1),[o,a]=l.useState("");return l.useEffect(()=>{const t=setTimeout(()=>{a(r)},500);return()=>clearTimeout(t)},[r]),l.useEffect(()=>{const t=p=>{p.key==="Escape"&&i()};return s&&window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s,i]),l.useEffect(()=>{async function t(){if(o.length<3){d([]);return}c(!0);try{const p=_(w,"users"),b=o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),f=F(p,$("displayName",">=",b),$("displayName","<=",b+"ï£¿"),q(20)),m=(await be(f)).docs.map(v=>({uid:v.id,...v.data()})).filter(v=>v.isPublic!==!1);d(m)}catch(p){console.error("Error searching users:",p)}finally{c(!1)}}s&&t()},[o,s]),l.useEffect(()=>{s||(u(""),d([]))},[s]),e.jsx(H,{isOpen:s,onClose:i,title:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-primary"})," Explorar UsuÃ¡rios"]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-text-secondary"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome...",autoFocus:!0,value:r,onChange:t=>u(t.target.value),className:"w-full bg-bg-secondary border border-border-color rounded-xl pl-12 pr-12 py-3 text-text-primary focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all font-medium placeholder-text-secondary/50"}),x&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx(ee,{className:"w-5 h-5 text-primary animate-spin"})})]}),e.jsx("div",{className:"space-y-2 min-h-[200px]",children:h.length>0?h.map(t=>e.jsxs(j,{to:`/u/${t.uid}`,onClick:i,className:"flex items-center gap-4 p-3 rounded-xl bg-bg-secondary/50 border border-transparent hover:border-primary/30 hover:bg-bg-secondary hover:shadow-md transition-all group",children:[e.jsx("img",{src:t.photoURL||"https://placehold.co/100x100/6366f1/FFF?text=U",alt:t.displayName,className:"w-12 h-12 rounded-full object-cover border-2 border-border-color group-hover:border-primary/50 transition-colors",crossOrigin:"anonymous"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-text-primary truncate group-hover:text-primary transition-colors",children:t.displayName||"UsuÃ¡rio"}),t.isPublic===!1&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-500/10 text-red-400 text-[10px] font-bold uppercase tracking-wider border border-red-500/20",children:"Privado"})]}),e.jsx("p",{className:"text-sm text-text-secondary truncate pr-2",children:t.about||"Membro da comunidade"})]}),e.jsx(re,{className:"w-5 h-5 text-text-secondary opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"})]},t.uid)):o.length>=3?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-text-secondary text-lg font-medium",children:"Nenhum usuÃ¡rio encontrado"}),e.jsx("p",{className:"text-sm text-text-secondary/60 mt-1",children:"Tente buscar por outro nome"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-text-secondary/40",children:[e.jsx(P,{className:"w-16 h-16 mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-medium",children:"Digite o nome de um usuÃ¡rio para buscar"})]})})]})})}function O(){const{user:s}=S(),[i,r]=l.useState(null),[u,h]=l.useState(!0);return l.useEffect(()=>{if(!s){r(null),h(!1);return}const x=C(w,"users",s.uid),c=B(x,o=>{o.exists()?r(o.data()):r(null),h(!1)},o=>{console.error("Erro ao buscar perfil:",o),h(!1)});return()=>c()},[s]),{profile:i,loading:u,updateProfileData:async x=>{if(!s)return;const c=C(w,"users",s.uid);try{await ge(c,x,{merge:!0})}catch(o){throw console.error("Erro ao atualizar perfil:",o),o}}}}const V="/portal-animes-V2/assets/logo-BXHHSxrP.png";function Le(){const[s,i]=l.useState(!1),[r,u]=l.useState(()=>localStorage.getItem("sidebar_collapsed")==="true"),[h,d]=l.useState(!1),[x,c]=l.useState(!1),{user:o,signOut:a}=S(),{profile:t}=O(),p=U();l.useEffect(()=>{localStorage.setItem("sidebar_collapsed",r)},[r]);const b=async N=>{N.preventDefault(),N.stopPropagation();try{await a(),p("/")}catch(A){console.error("Erro ao sair:",A)}},f=[{icon:ae,label:"InÃ­cio",path:"/"},{icon:oe,label:"CatÃ¡logo",path:"/catalog"},{icon:ne,label:"Minha Biblioteca",path:"/library"},{icon:le,label:"Personagens",path:"/characters"}],g=`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ease-in-out font-medium w-full whitespace-nowrap overflow-hidden ${r?"justify-center px-2":"text-left"}`,m="bg-button-accent text-text-on-primary shadow-lg shadow-button-accent/25",v="text-text-secondary hover:bg-bg-tertiary hover:text-primary transition-colors",n=t?.displayName||o?.displayName||"Visitante",y=t?.photoURL||o?.photoURL;return e.jsxs(e.Fragment,{children:[e.jsx(we,{isOpen:h,onClose:()=>d(!1)}),e.jsx(ke,{isOpen:x,onClose:()=>c(!1)}),e.jsxs("aside",{className:E("relative bg-bg-secondary border-r border-border-color flex flex-col transition-all duration-300 ease-in-out will-change-[width] h-full",r?"w-20":"w-72"),children:[e.jsx("div",{className:`p-4 flex items-center ${r?"justify-center":"justify-between"} transition-all duration-300`,children:e.jsxs(j,{to:"/",className:`flex items-center gap-2 text-2xl font-black text-primary tracking-tighter group transition-all duration-300 ${r?"justify-center w-full":""}`,children:[e.jsx("div",{className:"w-10 h-10 bg-transparent transition-colors rounded-full flex items-center justify-center shrink-0 overflow-hidden",children:e.jsx("img",{src:V,alt:"Logo",className:"w-full h-full object-cover"})}),!r&&e.jsxs("span",{className:"text-text-primary group-hover:text-primary transition-colors whitespace-nowrap",children:["Portal",e.jsx("span",{className:"text-primary",children:"Animes"})]})]})}),e.jsx("button",{onClick:()=>u(!r),className:"hidden md:flex absolute -right-3 top-9 bg-bg-secondary border border-border-color rounded-full p-1 text-text-secondary hover:text-primary transition-colors shadow-sm z-50",children:r?e.jsx(se,{className:"w-4 h-4"}):e.jsx(te,{className:"w-4 h-4"})}),e.jsxs("nav",{className:"flex-1 px-3 space-y-2 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-surface-dark/20 hover:scrollbar-thumb-surface-dark/40",children:[!r&&e.jsx("div",{className:"text-xs font-bold text-text-secondary/60 uppercase px-4 mb-2 tracking-wider",children:"Menu"}),f.map(N=>e.jsxs(Q,{to:N.path,className:({isActive:A})=>E(g,A?m:v),title:r?N.label:"",children:[e.jsx(N.icon,{className:"w-5 h-5 shrink-0"})," ",!r&&N.label]},N.path)),e.jsx("div",{className:"pt-4 pb-2",children:e.jsx("div",{className:"h-px bg-border-color mx-4"})}),!r&&e.jsx("div",{className:"text-xs font-bold text-text-secondary/60 uppercase px-4 mb-2 tracking-wider",children:"Geral"}),e.jsxs("button",{onClick:()=>{c(!0)},title:r?"Explorar UsuÃ¡rios":"",className:E(g,v),children:[e.jsx(ie,{className:"w-5 h-5 shrink-0"})," ",!r&&"Explorar UsuÃ¡rios"]}),e.jsxs("button",{onClick:()=>{d(!0)},title:r?"ConfiguraÃ§Ãµes":"",className:E(g,v),children:[e.jsx(ce,{className:"w-5 h-5 shrink-0"})," ",!r&&"ConfiguraÃ§Ãµes"]})]}),e.jsx("div",{className:"p-4 border-t border-border-color bg-bg-tertiary",children:e.jsxs(j,{to:"/profile",className:`flex items-center gap-3 p-3 rounded-xl bg-bg-secondary border border-border-color shadow-sm hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group relative overflow-hidden ${r?"justify-center w-12 h-12 p-0":""}`,title:r?n:"Ver Perfil",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/0 group-hover:bg-primary/5 transition-colors"}),e.jsxs("div",{className:"relative z-10 shrink-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-primary to-button-accent flex items-center justify-center text-white font-bold text-sm overflow-hidden ring-2 ring-transparent group-hover:ring-primary/20 transition-all",children:y?e.jsx("img",{src:y,alt:n,className:"w-full h-full object-cover"}):e.jsx("span",{className:"uppercase",children:n.slice(0,2)})}),e.jsx("span",{className:`absolute bottom-0 right-0 w-3 h-3 border-2 border-bg-secondary rounded-full ${o?"bg-green-500":"bg-gray-500"}`})]}),!r&&e.jsxs("div",{className:"flex-1 min-w-0 z-10 ml-1",children:[e.jsx("h4",{className:"text-sm font-bold text-text-primary truncate group-hover:text-primary transition-colors",children:n}),e.jsx("p",{className:"text-xs text-text-secondary truncate",children:o?"Visualizar perfil":"Fazer Login"})]}),!r&&e.jsx("div",{className:"z-10 p-1.5 text-text-secondary group-hover:text-primary transition-colors",onClick:o?b:void 0,title:o?"Sair":"Entrar",children:o?e.jsx(de,{className:"w-4 h-4"}):e.jsx(xe,{className:"w-4 h-4"})})]})})]})]})}function Se(){const[s,i]=l.useState(""),[r,u]=l.useState([]),[h,d]=l.useState(!1);return l.useEffect(()=>{if(s.length<3){u([]);return}const x=new AbortController,c=x.signal,o=setTimeout(async()=>{d(!0);try{const[a,t]=await Promise.all([fetch(`https://api.jikan.moe/v4/anime?q=${s}&limit=4&order_by=members&sort=desc`,{signal:c}),fetch(`https://api.jikan.moe/v4/characters?q=${s}&limit=3&order_by=favorites&sort=desc`,{signal:c})]),[p,b]=await Promise.all([a.json(),t.json()]);if(c.aborted)return;const f=(p.data||[]).map(m=>({id:m.mal_id,title:m.title_english||m.title,image:m.images?.jpg?.image_url,score:m.score,year:m.year||"N/A",status:m.status,episodes:m.episodes,type:m.type,kind:"anime"})),g=(b.data||[]).map(m=>({id:m.mal_id,title:m.name,image:m.images?.jpg?.image_url,score:null,year:null,status:null,episodes:null,type:"Personagem",kind:"character"}));u([...f,...g])}catch(a){a.name!=="AbortError"&&console.error("Erro na busca:",a)}finally{c.aborted||d(!1)}},500);return()=>{clearTimeout(o),x.abort()}},[s]),{query:s,setQuery:i,results:r,isSearching:h,setResults:u}}function G(){const{user:s}=S(),[i,r]=l.useState([]),[u,h]=l.useState(0),[d,x]=l.useState(!0);return l.useEffect(()=>{if(!s){r([]),h(0),x(!1);return}const a=_(w,"users",s.uid,"notifications"),t=F(a,ye("createdAt","desc"),q(20)),p=B(t,b=>{const f=b.docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate()||new Date}));r(f),h(f.filter(g=>!g.read).length),x(!1)},b=>{console.error("Error fetching notifications:",b),x(!1)});return()=>p()},[s?.uid]),{notifications:i,unreadCount:u,loading:d,markAsRead:async a=>{if(s)try{const t=C(w,"users",s.uid,"notifications",a);await ve(t,{read:!0})}catch(t){console.error("Error marking notification as read:",t)}},markAllAsRead:async()=>{if(!(!s||i.length===0))try{const a=je(w),t=i.filter(p=>!p.read);if(t.length===0)return;t.forEach(p=>{const b=C(w,"users",s.uid,"notifications",p.id);a.update(b,{read:!0})}),await a.commit()}catch(a){console.error("Error marking all as read:",a)}}}}function Ee({isOpen:s,onClose:i}){const{notifications:r,unreadCount:u,markAsRead:h,markAllAsRead:d,loading:x}=G(),c=l.useRef(null);if(l.useEffect(()=>{function a(t){c.current&&!c.current.contains(t.target)&&i()}return s&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[s,i]),!s)return null;const o=a=>{switch(a){case"like":return e.jsx(M,{className:"w-4 h-4 text-pink-500"});case"comment":return e.jsx(he,{className:"w-4 h-4 text-blue-500"});case"system":return e.jsx(ue,{className:"w-4 h-4 text-yellow-500"});default:return e.jsx(R,{className:"w-4 h-4 text-primary"})}};return e.jsxs("div",{ref:c,className:"absolute right-0 top-full mt-2 w-80 sm:w-96 bg-bg-secondary border border-border-color rounded-xl shadow-2xl z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-color bg-bg-tertiary/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-text-primary",children:"NotificaÃ§Ãµes"}),u>0&&e.jsx("span",{className:"bg-primary text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:u})]}),e.jsx("div",{className:"flex items-center gap-2",children:u>0&&e.jsxs("button",{onClick:d,className:"text-xs text-primary hover:text-primary-hover font-medium flex items-center gap-1 transition-colors",title:"Marcar todas como lidas",children:[e.jsx(me,{className:"w-3 h-3"})," Limpar"]})})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto scrollbar-thin scrollbar-thumb-surface-dark/20 hover:scrollbar-thumb-surface-dark/40",children:x?e.jsx("div",{className:"p-8 text-center text-text-secondary text-sm",children:"Carregando..."}):r.length===0?e.jsxs("div",{className:"p-8 text-center flex flex-col items-center gap-2 text-text-secondary",children:[e.jsx(R,{className:"w-8 h-8 opacity-20"}),e.jsx("p",{className:"text-sm",children:"Nenhuma notificaÃ§Ã£o por enquanto."})]}):e.jsx("div",{className:"divide-y divide-border-color/50",children:r.map(a=>e.jsxs("div",{className:`p-4 hover:bg-bg-tertiary transition-colors relative group ${a.read?"":"bg-primary/5"}`,children:[e.jsxs(j,{to:a.link||"#",onClick:()=>{h(a.id),i()},className:"flex gap-3",children:[e.jsx("div",{className:"mt-1 w-8 h-8 rounded-full flex items-center justify-center shrink-0 border border-border-color bg-bg-primary",children:o(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-text-primary leading-snug",children:a.content}),e.jsx("p",{className:"text-xs text-text-secondary mt-1",children:a.createdAt.toLocaleDateString()})]})]}),!a.read&&e.jsx("button",{onClick:t=>{t.stopPropagation(),h(a.id)},className:"absolute right-2 top-2 p-1 text-primary opacity-0 group-hover:opacity-100 transition-opacity",title:"Marcar como lida",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})})]},a.id))})})]})}function Te(){const{query:s,setQuery:i,results:r,setResults:u}=Se(),h=U(),[d,x]=l.useState(!1),[c,o]=l.useState(-1),[a,t]=l.useState(!1),{unreadCount:p}=G(),{user:b}=S(),{profile:f}=O(),g=f?.displayName||b?.displayName||"Visitante",m=n=>{n.kind==="character"?h(`/character/${n.id}`):h(`/anime/${n.id}`),i(""),u([]),o(-1),x(!1)},v=n=>{r.length!==0&&(n.key==="ArrowDown"?(n.preventDefault(),o(y=>y<r.length-1?y+1:y)):n.key==="ArrowUp"?(n.preventDefault(),o(y=>y>0?y-1:-1)):n.key==="Enter"?(n.preventDefault(),c>=0&&r[c]&&m(r[c])):n.key==="Escape"&&(u([]),o(-1),x(!1)))};return e.jsxs("header",{className:"sticky top-0 z-40 bg-bg-primary/80 backdrop-blur-md px-4 md:px-8 py-4 flex items-center justify-between border-b border-border-color transition-colors duration-300",children:[e.jsx("div",{className:"flex items-center gap-4 pl-12 md:pl-0",children:e.jsxs("div",{className:`${d?"hidden md:block":"block"}`,children:[e.jsxs("h1",{className:"text-xl font-bold text-text-primary",children:["OlÃ¡, ",g,"!! ðŸ‘‹"]}),e.jsx("p",{className:"text-sm text-text-secondary hidden sm:block",children:"Descubra novos animes."})]})}),e.jsxs("div",{className:`flex items-center gap-4 ml-auto ${d?"w-full":""}`,children:[!d&&e.jsxs("div",{className:"relative",children:[e.jsxs(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(!a),className:"p-2 relative text-text-secondary hover:text-primary transition-colors rounded-full hover:bg-bg-tertiary",children:[e.jsx(R,{className:"w-6 h-6"}),p>0&&e.jsx("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-bg-primary animate-pulse"})]}),e.jsx(Ee,{isOpen:a,onClose:()=>t(!1)})]}),!d&&e.jsx("div",{className:"flex items-center gap-2 md:hidden",children:e.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(!0),className:"p-2 text-text-secondary hover:text-primary",children:e.jsx(D,{className:"w-6 h-6"})})}),e.jsx("div",{className:`relative group transition-all duration-300 ease-out ${d?"block flex-1 w-full":"hidden md:flex items-center gap-4 w-72 focus-within:w-96"}`,children:e.jsx("div",{className:"relative w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(D,{className:"w-5 h-5 text-text-secondary group-focus-within:text-primary transition-colors duration-300"})}),e.jsx("input",{type:"text",value:s,onChange:n=>{i(n.target.value),o(-1)},onKeyDown:v,placeholder:"Pesquisar...",autoFocus:d,className:"block w-full pl-10 pr-10 py-2.5 border-2 border-transparent rounded-2xl bg-bg-tertiary text-text-primary focus:outline-none focus:border-primary focus:bg-bg-secondary focus:shadow-[0_0_20px_var(--shadow-color)] transition-all duration-300 shadow-sm hover:shadow-md placeholder-text-secondary/50"}),d&&e.jsx("button",{onClick:()=>x(!1),className:"absolute inset-y-0 right-2 flex items-center p-2 text-text-secondary hover:text-primary",children:e.jsx(z,{className:"w-5 h-5"})}),r.length>0&&e.jsx("div",{className:"absolute top-full mt-3 left-0 w-full bg-bg-secondary rounded-2xl shadow-2xl z-50 max-h-[70vh] overflow-y-auto border border-border-color overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:e.jsx("div",{className:"py-2",children:r.map((n,y)=>e.jsxs("div",{onClick:()=>m(n),className:`
                                                    flex gap-4 p-3 cursor-pointer transition-all border-l-4 relative overflow-hidden group/item
                                                    ${y===c?"bg-primary/5 border-primary pl-4":"border-transparent hover:bg-bg-tertiary/50 hover:pl-4"}
                                                `,children:[e.jsx("div",{className:"w-12 h-16 flex-shrink-0 rounded-lg overflow-hidden shadow-sm relative group-hover/item:scale-105 transition-transform duration-300",children:e.jsx("img",{src:n.image,className:"w-full h-full object-cover",alt:n.title})}),e.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[e.jsx("h4",{className:`text-sm font-bold truncate transition-colors duration-200 ${y===c?"text-primary":"text-text-primary group-hover/item:text-primary"}`,children:n.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-text-secondary",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${n.kind==="character"?"bg-purple-500/10 text-purple-400":"bg-blue-500/10 text-blue-400"}`,children:n.kind==="character"?"Personagem":"Anime"}),n.year&&n.year!=="N/A"&&e.jsx("span",{children:n.year}),n.type&&n.kind!=="character"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-1 h-1 bg-text-secondary/30 rounded-full"}),e.jsx("span",{children:n.type})]}),n.score&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-1 h-1 bg-text-secondary/30 rounded-full"}),e.jsxs("span",{className:"flex items-center gap-1 text-yellow-500 font-medium",children:["â˜… ",n.score]})]})]}),n.status&&e.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-text-secondary/30 mt-1",children:n.status})]})]},n.id))})})]})})})]})]})}function Pe(){return e.jsx("footer",{className:"mt-auto border-t border-border-color bg-bg-secondary/30 backdrop-blur-sm pt-12 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-1 space-y-4",children:[e.jsxs(j,{to:"/",className:"flex items-center gap-2 group",children:[e.jsx("div",{className:"w-10 h-10 bg-transparent rounded-full flex items-center justify-center overflow-hidden shrink-0",children:e.jsx("img",{src:V,alt:"Logo",className:"w-full h-full object-cover"})}),e.jsxs("span",{className:"text-xl font-black tracking-tight text-text-primary",children:["Portal",e.jsx("span",{className:"text-primary",children:"Animes"})]})]}),e.jsx("p",{className:"text-text-secondary text-sm leading-relaxed",children:"Sua fonte definitiva para animes, personagens e cultura pop japonesa. Design moderno e performance para a melhor experiÃªncia."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-text-primary mb-4",children:"Explorar"}),e.jsxs("ul",{className:"space-y-2 text-sm text-text-secondary",children:[e.jsx("li",{children:e.jsx(j,{to:"/",className:"hover:text-primary transition-colors",children:"InÃ­cio"})}),e.jsx("li",{children:e.jsx(j,{to:"/catalog",className:"hover:text-primary transition-colors",children:"CatÃ¡logo Completo"})}),e.jsx("li",{children:e.jsx(j,{to:"/seasonal",className:"hover:text-primary transition-colors",children:"Temporada Atual"})}),e.jsx("li",{children:e.jsx(j,{to:"/characters",className:"hover:text-primary transition-colors",children:"Personagens"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-text-primary mb-4",children:"Redes Sociais"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(I,{icon:pe,href:"https://github.com/Tarcizioo/portal-animes-V2",label:"GitHub"}),e.jsx(I,{icon:fe,href:"https://www.instagram.com/tarcizio_nt/",label:"Instagram"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("p",{className:"text-xs text-text-secondary mb-2",children:["Feito com ",e.jsx(M,{className:"w-3 h-3 inline text-red-500 fill-red-500 mx-1"})," por TarcÃ­zio"]})})]})]}),e.jsxs("div",{className:"border-t border-border-color pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-text-secondary",children:[e.jsxs("p",{children:["Â© ",new Date().getFullYear()," Portal Animes. Todos os direitos reservados."]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx(j,{to:"/privacy",className:"hover:text-primary transition-colors",children:"Privacidade"}),e.jsx(j,{to:"/terms",className:"hover:text-primary transition-colors",children:"Termos de Uso"})]})]})]})})}function I({icon:s,href:i,label:r}){return e.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer","aria-label":r,className:"w-10 h-10 rounded-lg bg-bg-primary border border-border-color flex items-center justify-center text-text-secondary hover:text-white hover:bg-primary hover:border-primary transition-all duration-300",children:e.jsx(s,{className:"w-5 h-5"})})}function $e(s){l.useEffect(()=>{document.title=`Portal Animes | ${s}`},[s])}export{Pe as F,Te as H,Le as S,ke as U,O as a,we as b,$e as u};
