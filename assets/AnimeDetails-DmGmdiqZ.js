import{u as k,d as _,j as e,a as $,L as M}from"./index-WO8Vze9W.js";import{r as h,f as U,L as A}from"./vendor-CzuZ2vSz.js";import{L as D,A as J}from"./Layout-8DORnql1.js";import{u as B}from"./useQuery-BKwHf-Au.js";import{u as O,m as p}from"./usePageTitle-CnQz42EV.js";import{u as G}from"./useAnimeLibrary-BnNSgRhR.js";import{v as I,w as K,x as Q,y as W,l as X,k as Y,z as Z,t as ee}from"./firebase-sbJdvLJZ.js";import{k as re,M as te,l as ae,m as y,i as se,S as E,H as N,U as ie,F,n as oe,I as ne,o as le,p as ce,q as de,a as z,C as me,c as xe,P as T,r as P}from"./ui-CEkGWVZx.js";async function pe(a){await new Promise(s=>setTimeout(s,300));const r=s=>fetch(s).then(n=>n.ok?n.json():{data:[]}).catch(()=>({data:[]})),[o,l,x,d]=await Promise.all([fetch(`https://api.jikan.moe/v4/anime/${a}/full`),r(`https://api.jikan.moe/v4/anime/${a}/characters`),r(`https://api.jikan.moe/v4/anime/${a}/recommendations`),r(`https://api.jikan.moe/v4/anime/${a}/episodes`)]);if(!o.ok)throw new Error("Falha ao carregar anime");const t=(await o.json()).data;return{anime:{id:t.mal_id,title:t.title_english||t.title,title_jp:t.title_japanese,image:t.images?.webp?.large_image_url||t.images?.jpg?.large_image_url||t.images?.jpg?.image_url,banner:t.trailer?.images?.maximum_image_url||t.images?.webp?.large_image_url||t.images?.jpg?.large_image_url,trailer:t.trailer?.embed_url,synopsis:t.synopsis,year:t.year||t.aired?.prop?.from?.year||"?",score:t.score,episodes:t.episodes||"?",duration:t.duration||"24 min",rating:t.rating,status:t.status,studios:t.studios,genres:t.genres,themes:t.themes,demographics:t.demographics,rank:t.rank,season:t.season,source:t.source,type:t.type,members:t.members,aired:t.aired,episodesList:d.data||[]},characters:l.data||[],recommendations:x.data||[]}}function ue(a){const{data:r,isLoading:o,error:l}=B({queryKey:["anime",a],queryFn:()=>pe(a),staleTime:36e5,enabled:!!a,retry:1});return{anime:r?.anime||null,characters:r?.characters||[],recommendations:r?.recommendations||[],loading:o,error:l}}function he(a){const{user:r}=k(),[o,l]=h.useState([]),[x,d]=h.useState(!0);return h.useEffect(()=>{if(!a){d(!1);return}const m=I(_,"comments"),s=K(m,Q("animeId","==",a)),n=W(s,f=>{const j=f.docs.map(i=>({id:i.id,...i.data()}));j.sort((i,g)=>{const v=i.createdAt?.toDate?i.createdAt.toDate():new Date(i.createdAt||0);return(g.createdAt?.toDate?g.createdAt.toDate():new Date(g.createdAt||0))-v}),l(j),d(!1)},f=>{console.error("Erro ao buscar comentários:",f),d(!1)});return()=>n()},[a]),{comments:o,loading:x,addComment:async m=>{if(!r)throw new Error("Você precisa estar logado para comentar.");if(!m.trim())throw new Error("O comentário não pode estar vazio.");if(!a)throw new Error("ID do anime inválido.");try{await Z(I(_,"comments"),{animeId:parseInt(a),userId:r.uid,userName:r.name||r.displayName||"Usuário",userAvatar:r.photoURL,content:m.trim(),createdAt:ee(),likes:0})}catch(s){throw console.error("Erro ao enviar comentário:",s),s}},deleteComment:async m=>{if(r)try{const s=X(_,"comments",m);await Y(s)}catch(s){throw console.error("Erro ao deletar comentário:",s),s}}}}function ge({comment:a,onDelete:r}){const{user:o}=k(),l=o&&o.uid===a.userId,x=d=>{if(!d)return"Agora";const u=d.toDate?d.toDate():new Date(d);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}).format(u)};return e.jsxs("div",{className:"flex gap-4 p-4 rounded-xl bg-bg-primary/50 border border-border-color hover:border-border-color/80 transition-colors group",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("img",{src:a.userAvatar||`https://ui-avatars.com/api/?name=${a.userName}&background=random`,alt:a.userName,className:"w-10 h-10 rounded-full object-cover border border-border-color"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-text-primary text-sm",children:a.userName}),e.jsx("span",{className:"text-xs text-text-secondary",children:x(a.createdAt)})]}),l&&e.jsx("button",{onClick:()=>r(a.id),className:"text-text-secondary hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1 rounded-md hover:bg-red-500/10",title:"Deletar comentário",children:e.jsx(re,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-text-secondary text-sm leading-relaxed break-words whitespace-pre-wrap",children:a.content})]})]})}function be({animeId:a}){const{user:r}=k(),{toast:o}=$(),{comments:l,loading:x,addComment:d,deleteComment:u}=he(a),[t,m]=h.useState(""),[s,n]=h.useState(!1),f=async i=>{if(i.preventDefault(),!!t.trim()){n(!0);try{await d(t),m(""),o.success("Comentário enviado!")}catch(g){o.error(g.message)}finally{n(!1)}}},j=async i=>{if(window.confirm("Tem certeza que deseja deletar este comentário?"))try{await u(i),o.success("Comentário removido.")}catch{o.error("Erro ao remover comentário.")}};return e.jsxs("section",{className:"mt-12",children:[e.jsxs("h2",{className:"text-2xl font-bold text-text-primary mb-6 flex items-center gap-2",children:[e.jsx(te,{className:"w-6 h-6 text-primary"}),"Comentários (",l.length,")"]}),e.jsx("div",{className:"mb-8",children:r?e.jsxs("form",{onSubmit:f,className:"relative",children:[e.jsx("textarea",{value:t,onChange:i=>m(i.target.value),placeholder:"Deixe seu comentário sobre este anime...",className:"w-full bg-bg-secondary border border-border-color rounded-xl p-4 pr-14 text-text-primary placeholder:text-text-secondary focus:ring-2 focus:ring-primary focus:border-transparent outline-none resize-none min-h-[100px] transition-all",disabled:s}),e.jsx("button",{type:"submit",disabled:!t.trim()||s,className:"absolute bottom-4 right-4 p-2 bg-primary hover:bg-primary-hover text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",children:e.jsx(ae,{className:"w-5 h-5"})})]}):e.jsx("div",{className:"bg-bg-secondary/50 border border-border-color rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-text-secondary",children:"Você precisa estar logado para comentar."})})}),x?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):e.jsx("div",{className:"space-y-4",children:l.length>0?l.map(i=>e.jsx(ge,{comment:i,onDelete:j},i.id)):e.jsx("p",{className:"text-text-secondary text-center py-8 italic",children:"Seja o primeiro a comentar!"})})]})}function De(){const{id:a}=U(),{anime:r,characters:o,recommendations:l,loading:x}=ue(a),{user:d}=k(),{toast:u}=$(),{library:t,addToLibrary:m,incrementProgress:s,updateProgress:n,updateRating:f,toggleFavorite:j}=G();O(r?.title||"Detalhes");const i=t.find(c=>c.id.toString()===a),[g,v]=h.useState("plan_to_watch");h.useEffect(()=>{i&&v(i.status)},[i]);const[S,V]=h.useState(!1);h.useEffect(()=>{const c=setTimeout(()=>V(!0),100);return()=>clearTimeout(c)},[]);const R=c=>{v(c),d?m(r,c):u.warning("Faça login para salvar animes na sua lista!")},H=()=>{d&&i?s(i.id,i.currentEp,i.totalEp):d&&r&&m(r,"watching")},L=i?.currentEp||0,C=r?.episodes||0;if(x)return e.jsx(D,{children:e.jsx("div",{className:"flex h-[80vh] items-center justify-center",children:e.jsx(M,{})})});if(!r)return e.jsx(D,{children:e.jsx("div",{className:"flex bg-bg-primary text-text-primary items-center justify-center h-screen",children:e.jsx("p",{children:"Anime não encontrado."})})});const q=r.banner||r.image;return e.jsx(D,{children:e.jsxs("div",{className:"min-h-screen bg-bg-primary text-text-primary font-sans selection:bg-primary selection:text-white pb-20",children:[e.jsxs(p.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"relative w-full min-h-[50vh] lg:h-[65vh] flex items-end",children:[e.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center blur-sm scale-105",style:{backgroundImage:`url('${q}')`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-bg-primary via-bg-primary/80 to-transparent z-10"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-bg-primary via-bg-primary/50 to-transparent z-10"})]}),e.jsx("div",{className:"relative z-20 w-full max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-10 pb-8 lg:pb-16",children:e.jsxs("div",{className:`grid lg:grid-cols-12 gap-8 items-end transition-all duration-700 ${S?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx(p.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"lg:col-span-3 xl:col-span-2 order-2 lg:order-1 flex justify-center lg:block mb-6 lg:mb-0",children:e.jsx("div",{className:"w-48 sm:w-64 lg:w-full aspect-[2/3] rounded-2xl overflow-hidden shadow-2xl border-4 border-bg-secondary relative group",children:e.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})})}),e.jsxs(p.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"lg:col-span-6 xl:col-span-7 flex flex-col gap-4 order-1 lg:order-2 mb-6 lg:mb-0 text-center lg:text-left items-center lg:items-start pt-6 lg:pt-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-lg bg-primary text-white text-xs font-bold uppercase tracking-wider shadow-lg shadow-primary/20",children:r.type||"TV"}),e.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/5 backdrop-blur-md border border-white/10 text-xs font-bold uppercase tracking-wider",children:r.year||"Unknown"}),r.status&&e.jsx("span",{className:y("px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider border backdrop-blur-md",r.status==="Finished Airing"?"bg-emerald-500/10 text-emerald-300 border-emerald-500/20":"bg-blue-500/10 text-blue-300 border-blue-500/20"),children:r.status==="Finished Airing"?"Completo":"Em Lançamento"})]}),e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-black leading-tight tracking-tight text-white drop-shadow-2xl",children:r.title}),r.title_english&&e.jsx("h2",{className:"text-lg md:text-xl text-gray-300 font-medium",children:r.title_english}),e.jsx("p",{className:"text-gray-300 text-sm md:text-base leading-relaxed max-w-3xl line-clamp-3 md:line-clamp-4",children:r.synopsis})]}),e.jsx(p.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.6},className:"lg:col-span-3 flex flex-col justify-end order-3 lg:order-3 w-full",children:e.jsx(ye,{anime:r,libraryEntry:i,status:g,handleStatusChange:R,handleIncrement:H,updateProgress:n,updateRating:f,toggleFavorite:j,currentEp:L,totalEp:C})})]})})]}),e.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-10 py-8 lg:py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[e.jsxs("div",{className:"lg:col-span-9 xl:col-span-9 space-y-12 order-2 lg:order-1",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(w,{value:`#${r.rank||"-"}`,label:"Ranking",icon:se}),e.jsx(w,{value:r.score||"-",label:"Score",icon:E,color:"text-yellow-500"}),e.jsx(w,{value:r.popularity||"-",label:"Popularidade",icon:N,color:"text-red-500"}),e.jsx(w,{value:r.members?.toLocaleString()||"-",label:"Membros",icon:ie,color:"text-blue-500"})]}),r.trailer&&e.jsxs(p.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5 text-primary"})," Trailer"]}),e.jsx(p.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},className:"aspect-video w-full rounded-2xl overflow-hidden bg-black shadow-lg cursor-pointer",children:e.jsx("iframe",{src:r.trailer.replace("autoplay=1","autoplay=0"),title:"Trailer",className:"w-full h-full pointer-events-none",allowFullScreen:!0})})]}),e.jsxs(p.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-primary"})," Episódios"]}),r.episodesList?.length>0&&e.jsxs("span",{className:"text-xs font-medium text-text-secondary bg-bg-secondary px-2 py-1 rounded-lg border border-border-color",children:[r.episodesList.length," disponíveis"]})]}),r.episodesList&&r.episodesList.length>0?e.jsx(fe,{episodes:r.episodesList,currentEp:L,totalEp:C,onUpdateProgress:c=>{d?(n(r.id,c,C),i||m(r,"watching")):u.warning("Faça login para marcar episódios!")}}):e.jsx("div",{className:"p-8 text-center bg-bg-secondary rounded-xl border border-border-color",children:e.jsx("p",{className:"text-text-secondary",children:"Informações de episódios indisponíveis no momento."})})]}),e.jsxs(p.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-primary"})," Recomendações"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:l?.slice(0,5).map(c=>e.jsxs(A,{to:`/anime/${c.entry.mal_id}`,className:"group relative aspect-[2/3] rounded-xl overflow-hidden bg-bg-secondary",onClick:()=>window.scrollTo(0,0),children:[e.jsx("img",{src:c.entry.images?.jpg?.image_url,alt:"",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-xs font-bold text-white line-clamp-2",children:c.entry.title})})]},c.entry.mal_id))})]}),e.jsx("div",{className:"pt-8 border-t border-border-color",children:e.jsx(be,{animeId:r.id})})]}),e.jsxs(p.aside,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"lg:col-span-3 xl:col-span-3 space-y-8 lg:sticky lg:top-24 h-fit order-1 lg:order-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 border-b border-border-color pb-2",children:[e.jsx(ne,{className:"w-5 h-5 text-primary"})," Informações"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{icon:le,label:"Episódios",value:`${r.episodes||"?"}`}),e.jsx(b,{icon:ce,label:"Duração",value:r.duration?.split("per")[0]}),e.jsx(b,{icon:de,label:"Estúdio",value:r.studios?.[0]?.name,highlight:!0}),e.jsx(b,{icon:E,label:"Nota Média",value:r.score,color:"text-yellow-400"}),e.jsx("div",{className:"border-t border-border-color/50 my-2"}),e.jsx(b,{icon:F,label:"Origem",value:r.source}),e.jsx(b,{icon:z,label:"Status",value:r.status==="Finished Airing"?"Completo":"Em Lançamento",color:r.status==="Finished Airing"?"text-emerald-400":"text-blue-400"}),e.jsx(b,{icon:me,label:"Classificação",value:r.rating?.split(" ")[0]}),e.jsx(b,{icon:xe,label:"Exibição",value:r.year||r.aired?.string?.split("to")[0]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-bold text-lg border-b border-border-color pb-2",children:"Gêneros"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.genres?.map(c=>e.jsx(p.span,{whileHover:{scale:1.1,backgroundColor:"var(--primary)",color:"#fff",borderColor:"var(--primary)"},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-bg-secondary border border-border-color text-xs font-medium transition-colors cursor-pointer select-none",children:c.name},c.mal_id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-bold text-lg border-b border-border-color pb-2",children:"Elenco"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:o?.slice(0,4).map(c=>e.jsx(p.div,{whileHover:{x:5,backgroundColor:"rgba(255,255,255,0.05)"},className:"rounded-xl transition-colors",children:e.jsxs(A,{to:`/character/${c.character.mal_id}`,className:"flex items-center gap-3 p-2 group",children:[e.jsx("div",{className:"size-10 rounded-full overflow-hidden bg-bg-secondary",children:e.jsx("img",{src:c.character.images?.jpg?.image_url,alt:"",className:"w-full h-full object-cover transition-transform group-hover:scale-110 duration-500"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold group-hover:text-primary transition-colors line-clamp-1",children:c.character.name}),e.jsx("span",{className:"text-xs text-text-secondary",children:c.role})]})]})},c.character.mal_id))}),e.jsx(A,{to:"/characters",className:"block text-center text-sm font-bold text-primary hover:underline",children:"Ver todo o elenco"})]})]})]})})]})})}function ye({anime:a,libraryEntry:r,status:o,handleStatusChange:l,handleIncrement:x,updateProgress:d,toggleFavorite:u,currentEp:t,totalEp:m,updateRating:s}){return r?e.jsxs("div",{className:"bg-bg-secondary/90 backdrop-blur-xl p-5 rounded-2xl border border-white/10 shadow-xl space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-white",children:"Editar Progresso"}),e.jsx("button",{onClick:()=>u(a),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(N,{className:`w-5 h-5 ${r.isFavorite?"fill-red-500 text-red-500":"text-gray-400"}`})})]}),e.jsxs("select",{value:o,onChange:n=>l(n.target.value),className:"w-full bg-bg-tertiary/50 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-primary",children:[e.jsx("option",{value:"watching",children:"Assistindo"}),e.jsx("option",{value:"completed",children:"Completo"}),e.jsx("option",{value:"plan_to_watch",children:"Planejo Assistir"}),e.jsx("option",{value:"dropped",children:"Dropado"}),e.jsx("option",{value:"paused",children:"Pausado"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-black/20 p-2 rounded-xl border border-white/5",children:[e.jsx("input",{type:"number",value:t,onChange:n=>d(r.id,parseInt(n.target.value)||0,m),className:"w-12 bg-transparent text-center font-bold text-white outline-none"}),e.jsxs("span",{className:"text-gray-400",children:["/ ",m||"?"]}),e.jsx("button",{onClick:x,className:"ml-auto p-1.5 bg-primary rounded-lg text-white hover:bg-primary-hover",children:e.jsx(T,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex justify-center gap-1 pt-2",children:[1,2,3,4,5].map(n=>e.jsx(E,{className:`w-5 h-5 cursor-pointer transition-transform hover:scale-110 ${(r.score||0)>=n*2?"fill-yellow-400 text-yellow-400":"text-gray-600"}`,onClick:()=>s(a.id,n*2)},n))})]}):e.jsxs("div",{className:"bg-bg-secondary/90 backdrop-blur-xl p-6 rounded-2xl border border-white/10 shadow-xl space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-white",children:"Acompanhar"}),e.jsx("button",{onClick:()=>u(a),className:"p-2 hover:bg-white/10 rounded-full transition-colors group",title:"Favoritar",children:e.jsx(N,{className:"w-5 h-5 text-gray-400 group-hover:text-red-500 transition-colors"})})]}),e.jsx("p",{className:"text-sm text-gray-300",children:"Adicione à sua lista para rastrear."}),e.jsxs("button",{onClick:()=>l("watching"),className:"w-full py-3 px-4 bg-primary hover:bg-primary-hover text-white font-bold rounded-xl shadow-lg shadow-primary/20 transition-transform active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(T,{className:"w-5 h-5"})," Adicionar à Lista"]})]})}function b({icon:a,label:r,value:o,color:l,highlight:x}){return e.jsxs(p.div,{whileHover:{x:5,backgroundColor:"rgba(255,255,255,0.03)"},className:"flex items-center justify-between text-sm p-2 rounded-lg cursor-default transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{children:r})]}),e.jsx("span",{className:y("font-medium truncate max-w-[50%]",l,x&&"text-primary font-bold"),children:o||"-"})]})}function fe({episodes:a,currentEp:r,totalEp:o,onUpdateProgress:l}){const[x,d]=h.useState(!1),u=x?a:a.slice(0,5);return e.jsxs("div",{className:"space-y-3",children:[e.jsx(J,{mode:"wait",children:u.map((t,m)=>{const s=r>=t.mal_id,n=t.filler;return e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,height:0},transition:{duration:.3,delay:m*.05},className:y("relative overflow-hidden flex items-center justify-between p-4 rounded-xl border transition-all cursor-pointer group",s?"bg-primary/10 border-primary/50 shadow-[0_0_15px_-5px_var(--button-accent)]":"bg-bg-secondary hover:bg-bg-tertiary border-border-color hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10",n&&!s&&"border-orange-500/30 bg-orange-500/5"),onClick:()=>l(t.mal_id),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/5 to-primary/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 pointer-events-none"}),e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0 z-10",children:[e.jsx("div",{className:y("size-12 flex-shrink-0 rounded-xl flex items-center justify-center font-black text-lg transition-all duration-300",s?"bg-primary text-white scale-110 shadow-lg shadow-primary/30":"bg-bg-tertiary text-text-secondary group-hover:text-primary group-hover:scale-105",n&&!s&&"text-orange-400"),children:t.mal_id}),e.jsxs("div",{className:"flex flex-col min-w-0 gap-0.5",children:[e.jsxs("span",{className:y("font-bold truncate pr-4 text-base md:text-lg transition-colors duration-300",s?"text-primary":"text-text-primary group-hover:text-primary",n&&"text-orange-400"),children:[t.title,n&&e.jsx("span",{className:"ml-2 text-[10px] uppercase border border-orange-500/50 text-orange-400 px-1.5 py-0.5 rounded-md font-bold tracking-wider",children:"Filler"})]}),e.jsxs("span",{className:"text-xs md:text-sm text-text-secondary truncate font-medium group-hover:text-text-primary transition-colors",children:[t.title_japanese||t.title_romanji,t.aired&&e.jsx("span",{className:"opacity-50 mx-2",children:"•"}),t.aired?new Date(t.aired).toLocaleDateString():""]})]})]}),e.jsx("div",{className:"pl-4 z-10",children:e.jsx("div",{className:y("w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300",s?"bg-primary text-white scale-110 rotate-0":"border-2 border-text-secondary/30 text-transparent group-hover:border-primary group-hover:text-primary scale-100 rotate-180"),children:e.jsx(z,{className:y("w-5 h-5",s&&"fill-white/20")})})})]},t.mal_id)})}),a.length>5&&e.jsx(p.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(!x),className:"w-full py-3 text-sm font-bold text-primary hover:bg-primary/10 rounded-xl border border-dashed border-primary/30 hover:border-primary transition-colors flex items-center justify-center gap-2 mt-4",children:x?e.jsxs(e.Fragment,{children:["Mostrar menos ",e.jsx(P,{className:"w-4 h-4 rotate-180"})]}):e.jsxs(e.Fragment,{children:["Ver todos os ",a.length," episódios ",e.jsx(P,{className:"w-4 h-4"})]})})]})}function w({label:a,value:r,icon:o,color:l}){return e.jsxs(p.div,{whileHover:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300,damping:20},className:"bg-bg-secondary p-4 rounded-xl border border-border-color flex flex-col items-center justify-center gap-1 cursor-default hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 transition-colors",children:[e.jsx(o,{className:y("w-6 h-6 mb-1",l||"text-text-secondary")}),e.jsx("span",{className:"font-bold text-lg text-text-primary",children:r}),e.jsx("span",{className:"text-[10px] uppercase font-bold text-text-secondary tracking-wider",children:a})]})}export{De as AnimeDetails};
